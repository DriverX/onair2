"undefined"===typeof onAir2&&function(j,H){function I(b){var a=[];l(b,function(c,d){b.hasOwnProperty(d)&&a.push(s(d)+"="+s("[object Function]"===J.call(c)?c():c))});return a.join("&")}function v(b,a,c){var d=b[m]=b[m]||t++,f=q[d]=q[d]||{},d=c.guid=c.guid||t++,h=f[a]=f[a]||[];1==h.push(c)&&(c=function(a){var c,a=a||j.event;l(h,function(d){!1===d.call(b,a)&&(a.preventDefault&&a.preventDefault(),a.returnFalse=!1,a.stopPropagation&&a.stopPropagation(),a.cancelBubble=!0,c=!1)});return c},c.secured=b,c.guid=
d,h.wrapper=c,u(b,a,h.wrapper))}function w(b,a,c){if(b[m]&&(q[b[m]]||{})[a]&&c.guid){for(var d=q[b[m]][a],f=d.length,h=0;h<f;)d[h].guid==c.guid&&(d.splice(h,1),f--),h++;f||x(b,a,d.wrapper)}}function K(b,a,c){var d;d="offset"+a.substring(0,1).toUpperCase()+a.slice(1);if(!c&&0!=b[d])d=b[d];else{c={};for(a in y)c[a]=b.style[a],b.style[a]=y[a];d=b[d];for(a in c)b.style[a]=c[a]}return d}function L(){z=setInterval(function(){for(var b=0,a=k.length;b<a;)k[b]()?b++:(k.splice(b,1),a--);a||clearInterval(z)},
13)}function A(b,a){a=a||this;return function(){return b.apply(a,arguments)}}function B(b){for(var a,c=b.length,d=b.slice();c--;)b=parseInt(Math.random()*(c+1)),a=d[c],d[c]=d[b],d[b]=a;return d}function e(b){if(!(this instanceof e))return new e(b);if(!b||!b.container||b.uniqueName&&e.instances[b.uniqueName]&&!b.instanceExistDestroy)throw Error("onAir incorrect options");b.uniqueName&&e.instances[b.uniqueName]&&e.instances[b.uniqueName].destroy();this.guid=t++;var a=this.options=C({uniqueName:"onair"+
this.guid},e.options,b);this.container="string"===typeof b.container?g.getElementById(b.container):b.container;this.isRemoteItems="string"===typeof b.items;this.isRemoteItems||(this.items=a.shuffle?B(b.items):b.items);e.instances[a.uniqueName]=this;a.scrollEnabled&&(this.blockMouseOver=A(this.stop,this),this.blockMouseOut=A(this.start,this))}function n(){e.isReady||(g.body?(e.isReady=!0,o&&(l(o,function(b){b()}),o=null)):setTimeout(n,13))}var t=1,m="onair"+(new Date).getTime(),g=j.document,p=!!g.addEventListener,
J=Object.prototype.toString,s=j.encodeURIComponent,D=Array.prototype.forEach,l=function(b,a,c){var d=b.length,c=c||null;if(d===H)for(d in b){if(!1===a.call(c,b[d],d,b))break}else if(D)D.call(b,a,c);else for(var f=0;f<d&&!1!==a.call(c,b[f],f,b);f++);return b},C=function(b,a){l(Array.prototype.slice.call(arguments,1),function(a){for(var d in a)b[d]=a[d]});return b},q={},u=p?function(b,a,c){b.addEventListener(a,c,!1)}:function(b,a,c){b.attachEvent("on"+a,c)},x=p?function(b,a,c){b.removeEventListener(a,
c,!1)}:function(b,a,c){b.detachEvent("on"+a,c)},y={position:"absolute",visibility:"hidden",display:"block"},z,k=[];e.prototype={draw:function(){this.stop();this.clean();this.currentLoop=this.firstVisibleItem=0;var b=this,a=this.options,c=this.block;this.block||(c=this.block=g.createElement("div"),c.id=a.uniqueName,c.className=a.blockClass,c.style.position="relative",c.style.overflow="hidden",this.container.appendChild(c),a.scrollEnabled&&(v(c,"mouseover",this.blockMouseOver),v(c,"mouseout",this.blockMouseOut)));
if(this.items&&this.items.length){var d=this.list=g.createElement("ul");d.className=a.listClass;d.style.position="relative";d.style.overflow="hidden";l(this.items,function(c){var f=g.createElement("li"),e=g.createElement("a");f.className=b.options.itemClass;e.className=b.options.linkClass;var i=(""+a.linkPattern).replace(/\{(\w+)\}/g,function(a,b){return"searchTerms"===b?s(c):""});e.setAttribute("href",i);e.setAttribute("title",c);a.linkTarget&&e.setAttribute("target",a.linkTarget);e.appendChild(g.createTextNode(c));
f.appendChild(e);d.appendChild(f)});c.style.height="1px";d.style.zoom="1";c.appendChild(d);var f=this.heightPerItem=K(d.firstChild,"height"),f=-1!=a.visibleItems?f*a.visibleItems:"";c.style.height=f?f+"px":"";a.scrollEnabled&&this.start()}else this.isRemoteItems&&this.update()},clean:function(){for(var b=this.block;b&&b.firstChild;)b.removeChild(b.firstChild)},destroy:function(){this.stop(!0);this.clean();var b=this.block;w(b,"mouseover",this.blockMouseOver);w(b,"mouseout",this.blockMouseOut);this.container.removeChild(b);
this.block=null;delete e.instances[this.options.uniqueName]},start:function(){function b(){var b=parseFloat(d.style.top)||0,c=-a.heightPerItem,e=0,g=(new Date).getTime(),i=a.options.scrollDuration;a.scrollHandlerId=k.push(function(){var j=(new Date).getTime();if(j>=g+i)return d.insertBefore(d.firstChild,null),e=0,a.firstVisibleItem++==a.items.length-1&&(a.firstVisibleItem=1,a.currentLoop++),d.style.top=e+"px",a.delayId=null,a.scrollHandlerId=null,a.currentLoop==a.options.updateAfterLoop&&a.update(),
a.isNeedStop?a.stop():a.start(),!1;e=b+(c-b)*((j-g)/i);d.style.top=e+"px";return!0})-1;a.scrollHandlerId||L()}var a=this,c=this.options,d=this.list;if(!c.scrollEnabled||-1==c.visibleItems||this.delayId||!this.items||this.items.length<=c.visibleItems)return!1;this.isNeedStop=!1;parseInt(d.style.top)?b():this.delayId=setTimeout(b,c.scrollDelay)},stop:function(b){var a=this.options;if(-1==a.visibleItems||!this.items||this.items.length<=a.visibleItems)return!1;!0===b&&null!==this.scrollHandlerId&&k[this.scrollHandlerId]&&
(k.splice(this.scrollHandlerId,1),this.scrollHandlerId=null);this.delayId&&null===this.scrollHandlerId?(clearTimeout(this.delayId),this.delayId=null):this.isNeedStop=!0},update:function(){function b(b){a.items=a.options.shuffle?B(b):b;a.draw()}var a=this;this.stop(!0);this.isRemoteItems?this.getItems(function(a){b(a)}):b(this.items)},getItems:function(b){if(this.isRemoteItems){var a=this.options,c=g.getElementsByTagName("head")[0]||g.getElementsByTagName("body")[0],d=a.params?C({},a.params):{},e=
a.uniqueName,h=e+(new Date).getTime();d.callback||(d.callback=h);var k=g.createElement("script");k.charset=a.charset;k.src=a.items+(/\?.*$/.test(a.items)?"&":"?")+I(d);var l=this.block,i=g.createElement("div");i.className=a.loadingClass;i.style.display="block";i.style.position="absolute";i.style.left=i.style.top="0";i.style.width=i.style.height="100%";l.style.height="60px";l.appendChild(i);r[e]=h;j[h]=function(a){l.removeChild(i);b(a);try{delete j[h]}catch(d){}delete r[e];c.removeChild(k)};c.insertBefore(k,
c.firstChild)}else b(this.items)}};e.instances={};e.options={charset:"utf-8",linkPattern:"http://go.mail.ru/search?q={searchTerms}",linkTarget:"_blank",scrollEnabled:!0,scrollDelay:1E3,scrollDuration:500,shuffle:!1,visibleItems:9,updateAfterLoop:-1,blockClass:"onair-block",listClass:"onair-list",itemClass:"onair-item",linkClass:"onair-link",loadingClass:"onair-loading"};var r={};e.catcher=function(b,a){if(b&&r[b]){var c=j[r[b]];c&&c(a)}};var o=[],E,F=p?"DOMContentLoaded":"readystatechange",G=function(){if(p||
"complete"===g.readyState)x(g,F,G),n()};e.isReady=!1;e.ready=function(b){e.isReady?b():o&&(o.push(b),E||(E=!0,"complete"===g.readyState?n():(u(g,F,G),u(j,"load",n),p||function(){if(!e.isReady)try{g.documentElement.doScroll("left"),n()}catch(a){setTimeout(arguments.callee,10)}}())))};j.onAir2=e}(this);
